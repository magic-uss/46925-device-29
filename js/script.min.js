const modalFeedback=document.querySelector(".modal-feedback"),modalMap=document.querySelector(".modal-map"),feedbackBtn=document.querySelector(".contacts__btn"),mapBtn=document.querySelector(".contacts__link-map"),closeFeedbackBtn=modalFeedback.querySelector(".modal-feedback__btn-close"),closeMapBtn=modalMap.querySelector(".modal-map__btn-close"),modalForm=modalFeedback.querySelector(".modal-feedback__form"),modalBlock=modalFeedback.querySelector(".modal-feedback_inner"),userName=modalFeedback.querySelector("[name=name]"),userEmail=modalFeedback.querySelector("[name=email]");let isStorageSupport=!0,storageName="";try{storageName=localStorage.getItem("name")}catch(a){isStorageSupport=!1}feedbackBtn.addEventListener("click",function(a){a.preventDefault(),modalFeedback.classList.add("modal-show"),modalBlock.classList.add("modal-content-show"),storageName?(userName.value=storageName,userEmail.focus()):userName.focus()}),closeFeedbackBtn.addEventListener("click",function(a){a.preventDefault(),modalFeedback.classList.remove("modal-show"),modalBlock.classList.remove("modal-error")}),window.addEventListener("keydown",function(a){"Escape"===a.key&&modalFeedback.classList.contains("modal-show")&&(a.preventDefault(),modalFeedback.classList.remove("modal-show"),modalBlock.classList.remove("modal-error"))}),modalForm.addEventListener("submit",function(a){userName.value&&userEmail.value?isStorageSupport&&localStorage.setItem("name",userName.value):(a.preventDefault(),modalBlock.classList.remove("modal-error"),modalFeedback.offsetWidth=modalFeedback.offsetWidth,modalBlock.classList.add("modal-error"))}),mapBtn.addEventListener("click",function(a){a.preventDefault(),modalMap.classList.add("modal-show")}),closeMapBtn.addEventListener("click",function(a){a.preventDefault(),modalMap.classList.remove("modal-show")}),window.addEventListener("keydown",function(a){"Escape"===a.key&&modalMap.classList.contains("modal-show")&&(a.preventDefault(),modalMap.classList.remove("modal-show"))});
